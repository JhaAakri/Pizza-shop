{"ast":null,"code":"import { PLACE_ORDER, NEXT_STAGE, PICK_ORDER, CANCEL_ORDER, UPDATE_TIME } from './actions';\nconst initialState = {\n  orders: [],\n  totalDelivered: 0,\n  totalTime: '0 min 0 sec'\n};\nconst getNextStage = currentStage => {\n  switch (currentStage) {\n    case 'Order Placed':\n      return 'Order in Making';\n    case 'Order in Making':\n      return 'Order Ready';\n    case 'Order Ready':\n      return 'Order Picked';\n    default:\n      return currentStage;\n  }\n};\nconst getTimeInSeconds = (stage, size) => {\n  let makingTime;\n  switch (size) {\n    case 'Small':\n      makingTime = 3;\n      break;\n    case 'Medium':\n      makingTime = 4;\n      break;\n    case 'Large':\n      makingTime = 5;\n      break;\n    default:\n      makingTime = 0;\n  }\n  switch (stage) {\n    case 'Order Placed':\n      return 0;\n    case 'Order in Making':\n      return makingTime * 60;\n    // Convert making time to seconds\n    case 'Order Ready':\n      return 3 * 60;\n    case 'Order Picked':\n      return 0;\n    default:\n      return 0;\n  }\n};\nconst calculateTotalTime = orders => {\n  const totalSeconds = orders.reduce((total, order) => total + order.timeInSeconds, 0);\n  const minutes = Math.floor(totalSeconds / 60);\n  const seconds = totalSeconds % 60;\n  return `${minutes} min ${seconds} sec`;\n};\nconst pizzaReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case PLACE_ORDER:\n      return {\n        ...state,\n        orders: [...state.orders, action.payload],\n        totalDelivered: state.totalDelivered + 1\n      };\n    case NEXT_STAGE:\n      return {\n        ...state,\n        orders: state.orders.map(order => {\n          if (order.id === action.payload) {\n            const nextStage = getNextStage(order.stage);\n            return {\n              ...order,\n              stage: nextStage,\n              time: order.stage === 'Order Placed' ? '0 min 0 sec' : order.time,\n              timeInSeconds: order.timeInSeconds + getTimeInSeconds(order.stage, order.size)\n            };\n          }\n          return order;\n        })\n      };\n    case PICK_ORDER:\n      return {\n        ...state,\n        orders: state.orders.map(order => {\n          if (order.id === action.payload) {\n            return {\n              ...order,\n              stage: 'Order Picked'\n            };\n          }\n          return order;\n        })\n      };\n    case CANCEL_ORDER:\n      return {\n        ...state,\n        orders: state.orders.filter(order => order.id !== action.payload)\n      };\n    case UPDATE_TIME:\n      return {\n        ...state,\n        totalTime: calculateTotalTime(state.orders)\n      };\n    default:\n      return state;\n  }\n};\nexport default pizzaReducer;","map":{"version":3,"names":["PLACE_ORDER","NEXT_STAGE","PICK_ORDER","CANCEL_ORDER","UPDATE_TIME","initialState","orders","totalDelivered","totalTime","getNextStage","currentStage","getTimeInSeconds","stage","size","makingTime","calculateTotalTime","totalSeconds","reduce","total","order","timeInSeconds","minutes","Math","floor","seconds","pizzaReducer","state","action","type","payload","map","id","nextStage","time","filter"],"sources":["C:/Users/dell/Desktop/aakrii/Pizza-shop/src/reducer.js"],"sourcesContent":["import { PLACE_ORDER, NEXT_STAGE, PICK_ORDER, CANCEL_ORDER, UPDATE_TIME } from './actions';\r\n\r\nconst initialState = {\r\n  orders: [],\r\n  totalDelivered: 0,\r\n  totalTime: '0 min 0 sec',\r\n};\r\n\r\nconst getNextStage = (currentStage) => {\r\n  switch (currentStage) {\r\n    case 'Order Placed':\r\n      return 'Order in Making';\r\n    case 'Order in Making':\r\n      return 'Order Ready';\r\n    case 'Order Ready':\r\n      return 'Order Picked';\r\n    default:\r\n      return currentStage;\r\n  }\r\n};\r\n\r\nconst getTimeInSeconds = (stage, size) => {\r\n  let makingTime;\r\n  switch (size) {\r\n    case 'Small':\r\n      makingTime = 3;\r\n      break;\r\n    case 'Medium':\r\n      makingTime = 4;\r\n      break;\r\n    case 'Large':\r\n      makingTime = 5;\r\n      break;\r\n    default:\r\n      makingTime = 0;\r\n  }\r\n\r\n  switch (stage) {\r\n    case 'Order Placed':\r\n      return 0;\r\n    case 'Order in Making':\r\n      return makingTime * 60; // Convert making time to seconds\r\n    case 'Order Ready':\r\n      return 3 * 60; \r\n    case 'Order Picked':\r\n      return 0;\r\n    default:\r\n      return 0;\r\n  }\r\n};\r\n\r\nconst calculateTotalTime = (orders) => {\r\n  const totalSeconds = orders.reduce((total, order) => total + order.timeInSeconds, 0);\r\n  const minutes = Math.floor(totalSeconds / 60);\r\n  const seconds = totalSeconds % 60;\r\n  return `${minutes} min ${seconds} sec`;\r\n};\r\n\r\nconst pizzaReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case PLACE_ORDER:\r\n      return {\r\n        ...state,\r\n        orders: [...state.orders, action.payload],\r\n        totalDelivered: state.totalDelivered + 1,\r\n      };\r\n    case NEXT_STAGE:\r\n      return {\r\n        ...state,\r\n        orders: state.orders.map((order) => {\r\n          if (order.id === action.payload) {\r\n            const nextStage = getNextStage(order.stage);\r\n            return {\r\n              ...order,\r\n              stage: nextStage,\r\n              time: order.stage === 'Order Placed' ? '0 min 0 sec' : order.time,\r\n              timeInSeconds: order.timeInSeconds + getTimeInSeconds(order.stage, order.size),\r\n            };\r\n          }\r\n          return order;\r\n        }),\r\n      };\r\n    case PICK_ORDER:\r\n      return {\r\n        ...state,\r\n        orders: state.orders.map((order) => {\r\n          if (order.id === action.payload) {\r\n            return {\r\n              ...order,\r\n              stage: 'Order Picked',\r\n            };\r\n          }\r\n          return order;\r\n        }),\r\n      };\r\n    case CANCEL_ORDER:\r\n      return {\r\n        ...state,\r\n        orders: state.orders.filter((order) => order.id !== action.payload),\r\n      };\r\n    case UPDATE_TIME:\r\n      return {\r\n        ...state,\r\n        totalTime: calculateTotalTime(state.orders),\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default pizzaReducer;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}